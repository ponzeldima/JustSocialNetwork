@model ConversationsDialogueViewModel
@{
    ViewData["Title"] = Model.dialogue.NickName;
}

<div class="p-2 w-100 bg-dark text-light">
    Dialogue                              
    @Model.dialogue.Members.ToList()[0].User.FirstName - @Model.dialogue.Members.ToList()[1].User.FirstName
   
</div>

<div class="p-2 row justify-content-start">
    @{
        foreach (TextMessage mes in Model.dialogue.Messages)
        {
            if (Model.user.Id == mes.Sender.Id)
            {
                @Html.Partial("TextMessage", new TextMessageViewModel() { message = mes, isUserMessage = true })
            }
            else
            {
                @Html.Partial("TextMessage", new TextMessageViewModel() { message = mes, isUserMessage = false })
            }
            <div class="w-100"></div>
        }
    }
</div>

<div class="p-2 float-down w-100 bg-dark text-light">
    <form action="/Conversations/SendMessage" method="post" data-formType="ConversationsDialogueViewModel">

        <div class="form-group">
            <label asp-for="text">Введіть текст повідомлення</label>
            <input type="text" asp-for="text" />
            <span asp-validation-for="text" />
        </div>
        <div class="form-group">
            <input type="hidden" value="@Model.dialogue.Id" name="conversationId" />
        </div>
        <div class="form-group  text-danger">
            <input type="submit" value="Надіслати" class="btn bg-danger" />
        </div>

    </form>
</div>


